## Горутины

### Горутина 
— это легковесный поток, который может работать параллельно с другими горутинами в том же адресном пространстве.

- Пример создания горутины:
```go
func main() {
    go f(args...)
}
```
Эта программа состоит из двух горутин.
Функция `f` начнет выполняться асинхронно с вызвавшим ее кодом.



### Сильные стороны горутин
- Плюс горутин в том, что горутины очень легковесны; [интересная статья на хабре про цифры](https://habr.com/ru/post/135587/). Практически все расходы — это создание стека, который очень невелик (это изменяемо, если нужно).
- Асинхронность.
- Если время выполнения функции достаточно велико, то есть возможность нагрузить другие ядра.

### Как можно использовать
- [простой пример последовательного и одновременного выполнения](sequentiallyAndSimultaneously.go)
- [пример точности выполнения и зависимости рутин от времени выполнения](reader.go)
- [пример записи в канал и считывания из него ](pingerAndPrinter.go)

### Системные потоки

- В исходном коде (src/pkg/runtime/proc.c) приняты такие термины:
G (Goroutine) — Горутина
M (Machine) — Машина

- Каждая Машина работает в отдельном потоке и способна выполнять только одну Горутину в момент времени. 

- Планировщик операционной системы, в которой работает программа, переключает Машины. 
- Число работающих Машин ограничено переменной среды GOMAXPROCS или функцией `runtime.GOMAXPROCS(n int)`.
По умолчанию оно равно 1. Обычно имеет смысл сделать его равным числу ядер.